<!DOCTYPE html>
<html>

<head>
	<title>URL Tracer - Result</title>
	<link rel="stylesheet" href="/static/css/gotrace.css">
	<script src="./static/js/purify.min.js"></script>
	<script src="./static/js/cleanUrls.js" defer></script>
	<script src="./static/js/updateStatuses.js" defer></script>
</head>

<body id="resultsBody">
	<div class="results-container">
		<table>
			<thead>
				<tr>
					<th colspan="3">
						<h2 class="title">Hops your link traversed:</h2>
					</th>
				</tr>
				<tr>
					<th>Hop</th>
					<th>Status</th>
					<th>URL</th>
				</tr>
			</thead>
			<tbody>
				{{range $i, $hop := .Hops}}
				<tr>
					<td>{{$hop.Number}}</td>
					<td>
						<span class="tooltip-container">
							<span class="status-code">
								<span id="status-button"
									class="status-code-{{$hop.StatusCodeClass}}">{{$hop.StatusCode}}</span>
								<span class="tooltip"></span>
							</span>
						</span>
					</td>
					<td>
						{{if eq $i $.LastIndex}}
						<span id="final-hop"><a href="{{.URL}}" target="_blank"
								rel="noopener noreferrer">{{.URL}}</a></span>
						{{else}}
						<span class="inert-link">{{.URL}}</span>
						{{end}}
					</td>
				</tr>
				{{end}}
				<tr class="result-info result-info-start">
					<td></td>
					<td></td>
					<td><span class="rawFinalUrl"></span></td>
				</tr>
				<tr class="result-info">
					<td></td>
					<td></td>
					<td><span>ðŸ§™ Parameters Removed from Destination URL: <span id="removed-params"></span></span></td>
				</tr>
				{{if ne .FinalMessage ""}}
				<tr class="result-info">
					<td></td>
					<td></td>
					<td><span class="final-message">ðŸ¥· Secret: {{.FinalMessage}}</span></td>
				</tr>
				{{end}}
			</tbody>
		</table>
		<button class="button-3" role="button"><a href="/">Trace another URL</a></button>
	</div>
</body>

</html>